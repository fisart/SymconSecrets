{
    "elements": [
        {
            "type": "Label",
            "name": "HeaderError",
            "caption": "!!! CONFIGURATION ERROR !!!",
            "visible": false,
            "italic": true,
            "bold": true
        },
        {
            "type": "Label",
            "caption": "Security Configuration"
        },
        {
            "type": "Label",
            "name": "HookInfo",
            "caption": "WebHook URL: (Save settings to generate)"
        },
        {
            "type": "Select",
            "name": "OperationMode",
            "caption": "System Role",
            "options": [
                { "caption": "Slave (Receiver)", "value": 0 },
                { "caption": "Master (Sender)", "value": 1 }
            ],
            "onChange": "SEC_UpdateUI($id);"
        },
        {
            "type": "Label",
            "caption": "Key Storage (Filename 'master.key' is added automatically)"
        },
        { 
            "type": "ValidationTextBox", 
            "name": "KeyFolderPath", 
            "caption": "Directory Path (e.g. /var/lib/symcon_keys/)" 
        },
        { 
            "type": "Button", 
            "caption": "Check Directory Permissions", 
            "onClick": "SEC_CheckDirectory($id);" 
        },
        {
            "type": "Label",
            "caption": "Synchronization Token (Shared Secret)"
        },
        { 
            "type": "PasswordTextBox", 
            "name": "AuthToken", 
            "caption": "Sync Token" 
        },
        { 
            "type": "Button", 
            "name": "BtnGenToken", 
            "caption": "Generate Random Token", 
            "onClick": "SEC_GenerateToken($id);" 
        },
        { 
            "type": "Button", 
            "name": "BtnShowToken", 
            "caption": "Show/Copy Token", 
            "onClick": "SEC_ShowToken($id);" 
        },

        { "type": "Label", "caption": "WebHook Protection (Optional Basic Auth)" },
        { "type": "ValidationTextBox", "name": "HookUser", "caption": "WebHook User (Optional)" },
        { "type": "PasswordTextBox", "name": "HookPass", "caption": "WebHook Password (Optional)" },

        {
            "type": "List", 
            "name": "SlaveURLs", 
            "caption": "Slave WebHooks (Master Only)",
            "rowCount": 5, 
            "add": true, 
            "delete": true,
            "columns": [
                { "caption": "URL (e.g., http://ip:3777/hook/secrets_ID)", "name": "Url", "width": "400px", "edit": { "type": "ValidationTextBox" } },
                { "caption": "User (Optional)", "name": "User", "width": "150px", "edit": { "type": "ValidationTextBox" } },
                { "caption": "Pass (Optional)", "name": "Pass", "width": "150px", "edit": { "type": "PasswordTextBox" } }
            ]
        },
        {
            "type": "Label",
            "caption": "________________________________________________________________________________"
        },
        {
            "type": "Label",
            "caption": "Master: Secret Management (Data entered here is encrypted and cleared upon saving)"
        },
        {
            "type": "ValidationTextBox", 
            "name": "InputJson", 
            "caption": "Paste Secrets JSON Here (One line or minified)", 
            "value": ""
        },
        { 
            "type": "Button", 
            "name": "BtnEncrypt", 
            "caption": "Encrypt & Save Local", 
            "onClick": "SEC_EncryptAndSave($id);" 
        }
    ],
    "actions": [
        { "type": "Label", "caption": "Status:" },
        { "type": "Label", "name": "StatusLabel", "caption": "Idle" },
        { 
            "type": "Button", 
            "name": "BtnSync", 
            "caption": "Manually Sync to Slaves", 
            "onClick": "SEC_SyncSlaves($id);" 
        }
    ]
}